
<html lang="en" style="background: linear-gradient(90deg, rgba(40,44,43,1) 16%, rgb(33, 52, 80) 48%, rgb(2, 70, 90) 100%);">
<section id="section" class="mt-5 m-auto w-100 p-5">
  <div class="text-center">
    <input class="mt-5 w-50 h-25 form-control m-auto" type="text" [(ngModel)]="searchText" placeholder="Can Search by Name or ID" (keyup)="filterCards()">
  </div>
  <div class="row m-auto" id="dds">
    <div class="col-lg-3 m-auto" *ngFor="let card of Cards | search : searchText ; let i = index " id="Card">
      <div  class="card border-primary m-auto mb-3" style="max-width: 20rem;">
        <div class="card-header text-center  bg-transparent border-success fw-bold">
          <p>Customer ID: {{ card.id }}</p>
        </div>
        <div class="card-body">
          <h5 class="card-title">{{ card.name }}</h5>
        </div>
        <div class="card-footer bg-transparent border-success">
          <p class="mb-0 text-center">Total Amount: <span>{{ customerTotals[card.id]}} EGP</span></p>
        </div>
        <button class="btn btn-info m-2 mx-5 fw-bold text-danger-emphasis" (click)="onViewDetails2(card.id)">View Details</button>
      </div>
    </div>
  </div>
  <div class="text-center">
    <button class="btn px-4 btn-info w-auto fw-bold text-danger-emphasis" (click)="ToSeeAllCustomer()">View All</button>   
  </div>
  <div class="col-lg-8 m-auto">
    <div class="row ms-2" id="fafa">
      <div class="col-lg-8 m-auto">
        <div class="card mt-4 mb-3" style="width:auto;">
          <div class="card-header fw-bold text-center">
            <h3 class="text-center p-1">Customer Details</h3>
            {{ selectedCustomer?.name }}         
          </div>
          <div class="card-body">
            <table class="table table-striped">
              <thead>
                <tr class="text-center">
                  <th scope="col">Date</th>
                  <th scope="col">Amount</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let transaction of selectedCustomerTransactions">
                  <td class="text-center">{{ transaction.date | date }}</td>
                  <td class="text-center">{{ transaction.amount | currency:'EGP' }}</td>
                </tr>
              </tbody>
            </table>
            
            <canvasjs-chart class="p-3" [options]="chartOptions" [styles]="{ width: '100%', height: '360px' }"></canvasjs-chart>    
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
</html>